{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ContactListItem.module.css","components/Container/Container.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","API/api-finder.js","components/Container/Container.js","components/SearchBar/SearchBar.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","axios","defaults","baseURL","searchQuery","currentPage","pageSize","fetchString","get","then","response","data","hits","catch","console","error","Container","children","className","style","container","SearchBar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","searchBar","searchForm","this","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","log","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","largeImage","createPortal","overlay","onClick","modal","src","alt","Loader","loader","color","height","width","ImageGalleryItem","webformatURL","onClickImage","imageGalleryItem","imageGalleryItemImage","ImageGallery","imageGallery","map","largeImageURL","id","Button","button","App","showModal","isLoading","handleClickButton","fetchHits","handleClickImage","imageItem","toggleModal","onChangeQuery","options","prevState","finally","prevProps","snapshot","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.88d8f35f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1_1t2\",\"modal\":\"Modal_modal__3eeBT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ContactListItem_imageGalleryItem__1Agir\",\"imageGalleryItemImage\":\"ContactListItem_imageGalleryItemImage__31XD-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__avY4X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2sRSy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2hLUx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__Srrkp\"};","import axios from 'axios';\n\nconst keyApi = '20390864-d4afb1d39cdd190c7156392aa';\n\naxios.defaults.baseURL = `https://pixabay.com/api/?key={keyApi}&per_page=12`;\n\nconst fetchHits = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) => {\n  const fetchString = `https://pixabay.com/api/?key=${keyApi}&per_page=${pageSize}&q=${searchQuery}&page=${currentPage}`;\n  return axios\n    .get(fetchString)\n\n    .then(response => response.data.hits)\n    .catch(console.error);\n};\n\nexport default { fetchHits };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Container.module.css';\n\nconst Container = ({ children }) => (\n  <div className={style.container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import React, { Component } from 'react';\nimport style from './SearchBar.module.css';\nimport PropTypes from 'prop-types';\n\nclass SearchBar extends Component {\n  state = { query: '' };\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n  render() {\n    return (\n      <header className={style.searchBar}>\n        <form className={style.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={style.searchFormButton}>\n            <span className={style.searchFormButtonLabel}></span>\n          </button>\n\n          <input\n            className={style.searchFormInput}\n            type=\"text\"\n            value={this.state.query}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport style from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    console.log('Modal componentDidMount');\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    console.log('Modal componentWillUnmount');\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      console.log('Нажали Escape');\n      this.props.onClose();\n    }\n  };\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      console.log('Нажали Backbrop');\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { largeImage } = this.props;\n    return createPortal(\n      <div className={style.overlay} onClick={this.handleBackdropClick}>\n        <div className={style.modal}>\n          {this.props.children}\n          <img src={largeImage} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  largeImage: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport LoaderSpinner from 'react-loader-spinner';\nimport style from './Loader.module.css';\n\nconst Loader = () => (\n  <div className={style.loader}>\n    <LoaderSpinner type=\"Grid\" color=\"#00BFFF\" height={80} width={80} />\n  </div>\n);\n\nexport default Loader;\n","import React from 'react';\nimport style from './ContactListItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ webformatURL, largeImage, onClickImage }) => (\n  <li\n    className={style.imageGalleryItem}\n    onClick={() => onClickImage(largeImage)}\n  >\n    <img src={webformatURL} alt=\"\" className={style.imageGalleryItemImage} />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImage: PropTypes.string.isRequired,\n  onClickImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport style from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ hits, onClickImage }) => (\n\n\t<ul className={style.imageGallery}>\n\t\t{hits.map(({ webformatURL, largeImageURL, id }) => (\n\t\t\t<ImageGalleryItem\n\t\t\t\tkey={id}\n\t\t\t\twebformatURL={webformatURL}\n\t\t\t\tonClickImage={onClickImage}\n\t\t\t\tlargeImage={largeImageURL}\n\t\t\t/>\n\t\t))}\n\t</ul>\n\n);\n\nImageGallery.propTypes = {\n\thits: PropTypes.arrayOf(PropTypes.shape({ id: PropTypes.string })).isRequired,\n\tonClickImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport style from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" className={style.button} onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport fetchHits from './API/api-finder';\n\nimport Container from './components/Container';\nimport SearchBar from './components/SearchBar';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n\n    error: null,\n    showModal: false,\n    isLoading: false,\n    largeImage: '',\n  };\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchHits();\n    }\n    if (snapshot) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (prevState.hits.length < this.state.hits.length) return true;\n    return false;\n  }\n  handleClickButton = () => {\n    this.fetchHits();\n  };\n\n  handleClickImage = imageItem => {\n    this.setState({\n      showModal: true,\n      largeImage: imageItem,\n    });\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      largeImage: '',\n      showModal: !showModal,\n    }));\n  };\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      hits: [],\n      currentPage: 1,\n      error: null,\n      isLoading: false,\n      showModal: false,\n    });\n  };\n\n  fetchHits = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { currentPage, searchQuery };\n\n    this.setState({ isLoading: true });\n\n    fetchHits\n      .fetchHits(options)\n\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [ ...prevState.hits, ...hits ],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  return;\n  render() {\n    const { showModal, hits, isLoading, error, largeImage, searchQuery } = this.state;\n\n    return (\n      <Container>\n\n        <SearchBar onSubmit={this.onChangeQuery} />\n        {error && <h1>Упс... Ошибочка</h1> || (hits.length === 0 && searchQuery && !isLoading && <h1>По вашему запросу ничего не найдено.</h1>)}\n        <ImageGallery hits={hits} onClickImage={this.handleClickImage} />\n\n        {showModal && (\n          <Modal onClose={this.toggleModal} largeImage={largeImage} />\n        )}\n        {isLoading && <Loader />}\n        {hits.length > 0 && !isLoading && (\n          <Button onClick={this.handleClickButton} />\n        )}\n      </Container>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport '../node_modules/modern-normalize/modern-normalize.css';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__1vALh\",\"searchForm\":\"SearchBar_searchForm__2jBK1\",\"searchFormButton\":\"SearchBar_searchFormButton__LuL54\",\"searchFormButton-label\":\"SearchBar_searchFormButton-label__1vEP1\",\"searchFormInput\":\"SearchBar_searchFormInput__33r9w\"};"],"sourceRoot":""}